(()=>{"use strict";var t={d:(e,r)=>{for(var n in r)t.o(r,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:r[n]})}};t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),t.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var e;t.g.importScripts&&(e=t.g.location+"");var r=t.g.document;if(!e&&r&&(r.currentScript&&(e=r.currentScript.src),!e)){var n=r.getElementsByTagName("script");n.length&&(e=n[n.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=e})(),t.d({},{_:()=>o});const e=t.p+"da204f5fcb98644e66bd.jpg",r=()=>{o.innerHTML=' <div class="d-flex justify-content-center align-items-center h-100">\n  <div class="spinner-border" role="status">\n    <span class="visually-hidden">Loading...</span>\n  </div>\n</div>'},n=(t,r)=>{const n=`\n  <div class="text-center container py-5 ">\n          <h4 class="mt-5 mb-5"><strong>${r}</strong></h4>\n        </div>\n        <div class="container">\n  <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3  row-cols-lg-4">\n  ${(t=>t.map((t=>`\n      <div class="col my-3 " >\n      <div class="card p-2 h-100 ">\n    <img class="card-img-top position-relative" src="${t.url_image}" onerror="this.onerror=null;this.src='${e}'" alt="Card image cap">\n    ${t.discount>0&&'<span class="badge bg-danger ms-2 position-absolute top-10 start-0">-10%</span>'}\n    <div class="card-body">\n      <h5 class="card-title text-center">${t.name}</h5>\n      <p class="card-text">This is a longer card with supporting text below as a natural lead-in to additional content. This content is a little bit longer.</p>\n      <p class="card-text"><small class="text-muted">Last updated 3 mins ago</small></p>\n    </div>\n  </div></div>`)).join(""))(t)}\n</div>\n</div>`;o.innerHTML=n},o=document.querySelector("#main"),s=document.querySelector("#search-form"),a=document.querySelector("#search-input");(async()=>{r();try{const t=await fetch("http://localhost:5000/api/products");if(!t.ok)throw new Error("cant get products");const e=await t.json();console.log(e),n(e.products,"All products")}catch(t){console.log(t)}})(),s.addEventListener("submit",(t=>{t.preventDefault(),(async t=>{r();try{const e=await fetch("http://localhost:5000/api/products/search?"+new URLSearchParams({productName:t}));if(!e.ok)throw new Error("cant search product");const r=await e.json();console.log(r),n(r.products,`Result for "${t}"`)}catch(t){console.log(t)}})(a.value),a.value=""}))})();